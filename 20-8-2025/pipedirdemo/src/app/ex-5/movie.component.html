<div class="container">
  <h3>Movie CRUD</h3>

  <form (ngSubmit)="addMovie()" #movieForm="ngForm" class="movie-form">
    <div class="form-group">
      <label for="movieName">Movie Name</label>
      <input
        type="text"
        id="movieName"
        [(ngModel)]="movieModel.movieName"
        name="movieName"
        required
        placeholder="Enter movie name"
      />
    </div>

    <div class="form-group">
      <label for="language">Language</label>
      <input
        type="text"
        id="language"
        [(ngModel)]="movieModel.language"
        name="language"
        required
        placeholder="Enter language"
      />
    </div>

    <div class="form-group">
      <label for="imdbRating">IMDB Rating</label>
      <input
        type="number"
        id="imdbRating"
        [(ngModel)]="movieModel.imdbRating"
        name="imdbRating"
        min="0"
        max="10"
        step="0.1"
        required
        placeholder="Enter IMDB rating"
      />
    </div>

    <button type="submit" [disabled]="movieForm.invalid">{{ isEditMode ? 'Update' : 'Add' }} Movie</button>
    <button type="button" (click)="resetForm()" class="btn-cancel">Cancel</button>
  </form>

  <hr />

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Language</th>
        <th>IMDB Rating</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let movie of movies">
        <td>{{ movie.movieName }}</td>
        <td>{{ movie.language }}</td>
        <td>{{ movie.imdbRating }}</td>
        <td>
          <button (click)="editMovie(movie)">Edit</button>
          <button (click)="deleteMovie(movie.movieId)" class="btn-delete">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
